@using Portfolio.Models
@{
    ViewData["Title"] = "Blog Post";
}



@model Portfolio.Models.Comment


<h4>@Model.BlogPost.Title</h4>
<p>By @Model.BlogPost.Author, posted on @Model.BlogPost.PostDate</p>
<p>@Model.BlogPost.TextBody</p>


@using (Html.BeginForm("Create", "Comment", FormMethod.Post))
{
    @Html.HiddenFor(model => model.BlogPostId)
    @Html.LabelFor(model => model.TextBody)
    @Html.TextBoxFor(model => model.TextBody)
    <input type="submit" class="btn btn-default" />
}

@if (User.IsInRole("Admin"))
{
    <div class="update-post" name="@Model.BlogPost.BlogPostId">Update your post</div>
    <div class="delete-post" name="@Model.BlogPost.BlogPostId">Delete your post</div>
}
<div id="update-form"></div>
<div id="delete-form"></div>

@foreach (Comment thisComment in ViewBag.Comments)
{
    <p>@thisComment.TextBody <span class="time">Posted by @thisComment.User.UserName at @thisComment.PostDate</span></p>

}